# AI翻译工具

一个基于Qt的跨平台翻译工具，支持多种文件格式的批量翻译，可以使用OpenAI API或本地LLM模型进行翻译。

## 功能特点

- 支持多种文件格式:
  - TXT 文本文件
  - SRT 字幕文件
  - Markdown (MD) 文档
  - reStructuredText (RST) 文档
- 支持批量翻译，保持原始目录结构
- 支持OpenAI API和本地LLM模型
- 可自定义翻译提示词
- 智能分段翻译，可调节段落长度
- 断点续传功能
- 实时显示翻译进度
- 保留翻译历史供参考
- 支持原文与译文对照显示

## 系统要求

- 支持的操作系统：Windows、Linux、macOS
- Qt 6.2.0 或更高版本
- CMake 3.16 或更高版本

## 使用说明

### 基本设置

1. AI服务设置
   - OpenAI API设置:
     - 填写API Key
     - 设置API URL (默认为本地服务地址: http://127.0.0.1:11434/v1/chat/completions)
     - 选择模型 (如: qwen2.5:3b-instruct-q8_0)
     - 点击"测试连接"验证设置
   
   - 本地AI服务:
     - 选择模型文件路径(.gguf格式)
     - 设置主机地址和端口
     - 可调整温度、上下文大小等参数
     - 最后勾选"使用本地AI服务"稍等片刻就会启动本地AI服务，可点击"测试连接"验证设置（注意端口是否一致）

2. 翻译设置
   - 选择输入文件夹(包含待翻译文件)
   - 选择输出文件夹(存放翻译结果)
   - (TXT/SRT/MD/RST)文件类型将会翻译，其他文件类型则保持不变
   - 可选择是否保留历史记录
   - 可自定义段落长度限制

### 翻译操作

1. 编辑提示词
   - 点击"编辑提示"按钮
   - 可为不同文件类型设置专门的翻译提示词
   - 支持设置系统提示词和用户提示词

2. 开始翻译
   - 点击"开始翻译"按钮
   - 实时显示翻译进度
   - 支持断点续传，可从上次中断处继续
   - 可查看原文与译文对照

3. 翻译进度
   - 显示总任务数和当前进度
   - 显示每个文件的翻译状态
   - 可清除翻译进度记录

### 注意事项

- 翻译过程中保持网络连接稳定
- 大文件建议适当调整段落长度
- 建议定期备份重要的翻译结果
- 如使用本地AI服务，请确保有足够的系统资源

## 常见问题

1. 翻译中断
   - 程序会自动保存进度
   - 重启后可选择从断点继续

2. 文件格式问题
   - 确保文件编码为UTF-8
   - 检查文件格式是否符合标准

3. 性能优化
   - 调整段落长度限制
   - 如果使用本地AI服务，合理设置上下文大小
   - 翻译效果不佳可不保留历史记录
   - 尝试各种模型，选择最适合的模型，注意模型的上下文限制

## 许可证

本项目采用 GPL 许可证